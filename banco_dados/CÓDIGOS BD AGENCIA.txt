create database agencia;
use agencia;
create table if not exists dados_pessoais(id int primary key auto_increment, nome varchar(100), cpf varchar(15), sexo enum('M','F'), data_nascimento varchar(50), telefone varchar(15), email varchar(100), 
cidade varchar(50), cep varchar(20), estado char(2), logradouro varchar(100), bairro varchar(100), numero varchar(50))default charset utf8;
desc dados_pessoais;
alter table dados_pessoais modify data_nascimento varchar(50);
create table if not exists reservas(id_reserva int primary key auto_increment, destino varchar(100), pacotes varchar(100), qtd_passa varchar(100))default charset utf8;

desc reservas;

insert into dados_pessoais values
(default,'Guilherme','55625684898','M','12/09/2003','16996091036','guilhermeteste@gmail.com','Guariba','14840000','SP','teste','Mariana','261');
select * from dados_pessoais;
truncate dados_pessoais;
delete from dados pessoais;

drop database agencia;
insert into reservas values(default, 'Cabo Frio','4 dias','8');

select * from reservas;

create table if not exists  reserva_realizada(id_realizada int primary key auto_increment, comprador int , destino int );
desc reserva_realizada;

alter table reserva_realizada add foreign key (comprador) references dados_pessoais(id);
alter table reserva_realizada add foreign key (destino) references reservas(id_reserva);
alter table  reserva_realizada add column qtd_passagem varchar(100);
insert into reserva_realizada values (default,1,2);
select * from reserva_realizada;
alter table dados_pessoais add column senha varchar(100) after email;
select D.nome, R.destino, R.qtd_passa from dados_pessoais as D inner join reserva_realizada as RR  ON
D.id = RR.comprador inner join reservas as R ON
R.id_reserva = RR.destino;
desc dados_pessoais;
create table if not exists destinos(id_destino int primary key auto_increment, nome varchar(100))default charset utf8;
insert into destinos values
(default,'Ubatuba'),
(default,'Capitólio'),
(default,'Rio de Janeiro'),
(default,'Fernando de Noronha'),
(default,'Porto de Galinhas'),
(default,'Santos'),
(default,'São Paulo'),
(default,'Brasília');
select * from destinos order by nome;
create table if not exists administrativo (id_adm int primary key auto_increment, usuario varchar(100), senha varchar(100))default charset utf8;
desc administrativo;
select * from administrativo;
insert into administrativo values(default, 'agenciaadm@adm.com','agenciaadm');

